# kadai13
<div style="text-align:right;">
1X22B138 益田隆太郎

2025/11/19
</div>

### ソースコード
source142.c
```c
#include<stdio.h>
#include<string.h>
#include<stdlib.h>
#include"Dlib.h"
#define MAXLINES 200

int main(void){
    char *a[MAXLINES];
    int nLine;

    nLine=linesRead(a,MAXLINES);
    printf("\n=== before sorting ===\n");
    linesWrite(a,nLine);
    linesSort(a,nLine);
    printf("\n=== after sorting ===\n");
    linesWrite(a,nLine);
    linesFree(a,nLine);
    return 0;
}
```

Dlib.c
```c

#include<stdio.h>
#include<string.h>
#include<stdlib.h>
#include"Dlib.h"

int getLine(char a[], int sz){
    int c;
    int z = 0;
    while(1){
        if(z==sz-1){break;}
        c=getchar();
        if(c=='\n'){break;}
        if(c==EOF){return EOF;}
        a[z++] = c;
    }
    a[z]='\0';
    return z;
}

void linesFree(char *a[],int n){
    int i;
    for(i=0;i<n;i++){
        free(a[i]);
    }
}

int linesRead(char *a[],int max){   
    char line[100];
    int z;
    char *p;
    for(z=0;z<max;++z){
        printf(">");
        if(getLine(line,sizeof(line))==EOF){break;}
        p=(char*)malloc(strlen(line)+1);
        strcpy(p,line);
        a[z]=p;
    }
    return z;
}

void linesSort(char *a[],int n){
    int i;
    int nSwap;
    char *p;
    do{
        nSwap = 0;
        for(i=0;i+1 != n;++i){
            ++nSwap;
            p=a[i];a[i]=a[i+1];a[i+1]=p;
        }
    }while(nSwap!=0);
}

void linesWrite(char *a[],int n){
    int i;
    for(i=0;i<n;++i){printf("%s\n",a[i]);}
}
```

Dlib.h
```c
int getLine(char a[], int sz);
void linesWrite(char *a[], int n);
void linesSort(char *a[], int n);
int linesRead(char *a[],int max);
void linesFree(char *a[],int n);
```
### 結果  
```
masuda@DESKTOP-JOV4TPA:~/work/C_intermediate/src/_14$ LD_LIBRARY_PATH=. ./a.out
>ssf
>dfad
>dafa
>
=== before sorting ===
ssf
dfad
dafa
```
実行時は以下が必要
 LD_LIBRARY_PATH=. ./a.out